{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fede\\\\Desktop\\\\Proyecto\\\\registro-login\\\\src\\\\pages\\\\LoginRegister.js\",\n  _s = $RefreshSig$();\nimport \"./LoginRegister.css\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport withReactContent from \"sweetalert2-react-content\";\n\n// Configurar SweetAlert2 para React\nconst MySwal = withReactContent(Swal);\n\n// Importa el logo desde la carpeta assets\n_c = MySwal;\nimport logo from \"../assets/logo.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginRegister({\n  onLogin\n}) {\n  _s();\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const [showLogin, setShowLogin] = useState(true); // Alternar entre Login y Registro\n  const [showToggleButton, setShowToggleButton] = useState(false); // Controlar visibilidad del botón, por defecto oculto\n\n  // Alternar entre formularios\n  const toggleForm = () => {\n    setShowLogin(!showLogin);\n    setFormData({\n      name: \"\",\n      email: \"\",\n      password: \"\"\n    }); // Limpia los campos al alternar\n  };\n\n  // Manejar cambios en los campos del formulario\n  const handleInputChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Manejar el envío del formulario\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (showLogin) {\n        // Inicio de sesión\n        const response = await axios.post(\"http://localhost:5000/login\", {\n          email: formData.email,\n          password: formData.password\n        });\n\n        // Guardar el token y el nombre en localStorage\n        localStorage.setItem(\"token\", response.data.token); // Guarda el token\n        localStorage.setItem(\"userName\", response.data.name); // Guarda el nombre\n\n        // Mostrar alerta de inicio de sesión exitoso\n        MySwal.fire({\n          title: \"Éxito\",\n          text: response.data.message,\n          icon: \"success\"\n        }).then(() => {\n          // Llama a la función `onLogin` pasando el nombre del usuario\n          onLogin(response.data.name);\n        });\n      } else {\n        // Registro de usuario\n        const response = await axios.post(\"http://localhost:5000/register\", {\n          name: formData.name,\n          email: formData.email,\n          password: formData.password\n        });\n        MySwal.fire({\n          title: \"Éxito\",\n          text: response.data.message,\n          icon: \"success\"\n        });\n        setFormData({\n          name: \"\",\n          email: \"\",\n          password: \"\"\n        }); // Limpia los campos del formulario\n        setShowLogin(true); // Cambia al formulario de Login\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      MySwal.fire({\n        title: \"Error\",\n        text: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Error en la solicitud. Por favor, intenta de nuevo.\",\n        icon: \"error\"\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: logo,\n      alt: \"Logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: showLogin ? \"Iniciar Sesión\" : \"Registrarse\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [!showLogin && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Ingresa tu nombre\",\n        value: formData.name,\n        onChange: handleInputChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Ingresa tu correo\",\n        value: formData.email,\n        onChange: handleInputChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Ingresa tu contrase\\xF1a\",\n        value: formData.password,\n        onChange: handleInputChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: showLogin ? \"Iniciar Sesión\" : \"Registrarse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), showToggleButton && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"toggle\",\n      onClick: toggleForm,\n      children: showLogin ? \"¿No tienes cuenta? Regístrate\" : \"¿Ya tienes cuenta? Inicia Sesión\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginRegister, \"NnXk6wkv+45Z8Ts6WPzfDS4qLSc=\");\n_c2 = LoginRegister;\nexport default LoginRegister;\nvar _c, _c2;\n$RefreshReg$(_c, \"MySwal\");\n$RefreshReg$(_c2, \"LoginRegister\");","map":{"version":3,"names":["React","useState","axios","Swal","withReactContent","MySwal","_c","logo","jsxDEV","_jsxDEV","LoginRegister","onLogin","_s","formData","setFormData","name","email","password","showLogin","setShowLogin","showToggleButton","setShowToggleButton","toggleForm","handleInputChange","e","target","value","handleSubmit","preventDefault","response","post","localStorage","setItem","data","token","fire","title","text","message","icon","then","error","_error$response","_error$response$data","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","required","onClick","_c2","$RefreshReg$"],"sources":["C:/Users/Fede/Desktop/Proyecto/registro-login/src/pages/LoginRegister.js"],"sourcesContent":["import \"./LoginRegister.css\";\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\n\r\n// Configurar SweetAlert2 para React\r\nconst MySwal = withReactContent(Swal);\r\n\r\n// Importa el logo desde la carpeta assets\r\nimport logo from \"../assets/logo.png\";\r\n\r\nfunction LoginRegister({ onLogin }) {\r\n  const [formData, setFormData] = useState({ name: \"\", email: \"\", password: \"\" });\r\n  const [showLogin, setShowLogin] = useState(true); // Alternar entre Login y Registro\r\n  const [showToggleButton, setShowToggleButton] = useState(false); // Controlar visibilidad del botón, por defecto oculto\r\n\r\n  // Alternar entre formularios\r\n  const toggleForm = () => {\r\n    setShowLogin(!showLogin);\r\n    setFormData({ name: \"\", email: \"\", password: \"\" }); // Limpia los campos al alternar\r\n  };\r\n\r\n  // Manejar cambios en los campos del formulario\r\n  const handleInputChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Manejar el envío del formulario\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (showLogin) {\r\n        // Inicio de sesión\r\n        const response = await axios.post(\"http://localhost:5000/login\", {\r\n          email: formData.email,\r\n          password: formData.password,\r\n        });\r\n\r\n        // Guardar el token y el nombre en localStorage\r\n        localStorage.setItem(\"token\", response.data.token); // Guarda el token\r\n        localStorage.setItem(\"userName\", response.data.name); // Guarda el nombre\r\n\r\n        // Mostrar alerta de inicio de sesión exitoso\r\n        MySwal.fire({\r\n          title: \"Éxito\",\r\n          text: response.data.message,\r\n          icon: \"success\",\r\n        }).then(() => {\r\n          // Llama a la función `onLogin` pasando el nombre del usuario\r\n          onLogin(response.data.name);\r\n        });\r\n\r\n      } else {\r\n        // Registro de usuario\r\n        const response = await axios.post(\"http://localhost:5000/register\", {\r\n          name: formData.name,\r\n          email: formData.email,\r\n          password: formData.password,\r\n        });\r\n\r\n        MySwal.fire({\r\n          title: \"Éxito\",\r\n          text: response.data.message,\r\n          icon: \"success\",\r\n        });\r\n        setFormData({ name: \"\", email: \"\", password: \"\" }); // Limpia los campos del formulario\r\n        setShowLogin(true); // Cambia al formulario de Login\r\n      }\r\n    } catch (error) {\r\n      MySwal.fire({\r\n        title: \"Error\",\r\n        text: error.response?.data?.message || \"Error en la solicitud. Por favor, intenta de nuevo.\",\r\n        icon: \"error\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <img src={logo} alt=\"Logo\" /> {/* Logo */}\r\n      <h1>{showLogin ? \"Iniciar Sesión\" : \"Registrarse\"}</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        {/* Campo de nombre solo para registro */}\r\n        {!showLogin && (\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Ingresa tu nombre\"\r\n            value={formData.name}\r\n            onChange={handleInputChange}\r\n            required\r\n          />\r\n        )}\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Ingresa tu correo\"\r\n          value={formData.email}\r\n          onChange={handleInputChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Ingresa tu contraseña\"\r\n          value={formData.password}\r\n          onChange={handleInputChange}\r\n          required\r\n        />\r\n        <button type=\"submit\">{showLogin ? \"Iniciar Sesión\" : \"Registrarse\"}</button>\r\n      </form>\r\n      {showToggleButton && (\r\n        <button className=\"toggle\" onClick={toggleForm}>\r\n          {showLogin ? \"¿No tienes cuenta? Regístrate\" : \"¿Ya tienes cuenta? Inicia Sesión\"}\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginRegister;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}